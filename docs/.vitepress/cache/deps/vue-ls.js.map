{
  "version": 3,
  "sources": ["../../../../node_modules/vue-ls/src/storage/MemoryStorage.js", "../../../../node_modules/vue-ls/src/storage/WebStorageEvent.js", "../../../../node_modules/vue-ls/src/storage/WebStorage.js", "../../../../node_modules/vue-ls/src/index.js"],
  "sourcesContent": ["/* eslint class-methods-use-this: off */\n\nlet ls = {};\n\nclass MemoryStorageInterface {\n  constructor() {\n    Object.defineProperty(this, 'length', {\n      /**\n       * Define length property\n       *\n       * @return {number}\n       */\n      get() {\n        return Object.keys(ls).length;\n      },\n    });\n  }\n\n  /**\n   * Get item\n   *\n   * @param {string} name\n   * @returns {*}\n   */\n  getItem(name) {\n    return name in ls ? ls[name] : null;\n  }\n\n  /**\n   * Set item\n   *\n   * @param {string} name\n   * @param {*} value\n   * @returns {boolean}\n   */\n  setItem(name, value) {\n    ls[name] = value;\n\n    return true;\n  }\n\n  /**\n   * Remove item\n   *\n   * @param {string} name\n   * @returns {boolean}\n   */\n  removeItem(name) {\n    const found = name in ls;\n\n    if (found) {\n      return delete ls[name];\n    }\n\n    return false;\n  }\n\n  /**\n   * Clear storage\n   *\n   * @returns {boolean}\n   */\n  clear() {\n    ls = {};\n\n    return true;\n  }\n\n  /**\n   * Get item by key\n   *\n   * @param {number} index\n   * @returns {*}\n   */\n  key(index) {\n    const keys = Object.keys(ls);\n\n    return typeof keys[index] !== 'undefined' ? keys[index] : null;\n  }\n}\n\nconst MemoryStorage = new MemoryStorageInterface();\n\nexport { MemoryStorage };\n", "const listeners = {};\n\n/**\n * Event class\n */\nexport class WebStorageEvent {\n  /**\n   * Add storage change event\n   *\n   * @param {string} name\n   * @param {Function} callback\n   */\n  static on(name, callback) {\n    if (typeof listeners[name] === 'undefined') {\n      listeners[name] = [];\n    }\n\n    listeners[name].push(callback);\n  }\n\n  /**\n   * Remove storage change event\n   *\n   * @param {string} name\n   * @param {Function} callback\n   */\n  static off(name, callback) {\n    if (listeners[name].length) {\n      listeners[name].splice(listeners[name].indexOf(callback), 1);\n    } else {\n      listeners[name] = [];\n    }\n  }\n\n  /**\n   * Emit event\n   *\n   * @param {Object} event\n   */\n  static emit(event) {\n    const e = event || window.event;\n\n    const getValue = (data) => {\n      try {\n        return JSON.parse(data).value;\n      } catch (err) {\n        return data;\n      }\n    };\n\n    const fire = (listener) => {\n      const newValue = getValue(e.newValue);\n      const oldValue = getValue(e.oldValue);\n\n      listener(newValue, oldValue, e.url || e.uri);\n    };\n\n    if (typeof e === 'undefined' || typeof e.key === 'undefined') {\n      return;\n    }\n\n    const all = listeners[e.key];\n\n    if (typeof all !== 'undefined') {\n      all.forEach(fire);\n    }\n  }\n}\n", "import { WebStorageEvent } from './WebStorageEvent';\n\n/**\n * Storage Bridge\n */\nexport class WebStorage {\n  /**\n   * @param {Object} storage\n   */\n  constructor(storage) {\n    this.storage = storage;\n    this.options = {\n      namespace: '',\n      events: ['storage'],\n    };\n\n    Object.defineProperty(this, 'length', {\n      /**\n       * Define length property\n       *\n       * @return {number}\n       */\n      get() {\n        return this.storage.length;\n      },\n    });\n\n    if (typeof window !== 'undefined') {\n      for (const i in this.options.events) {\n        if (window.addEventListener) {\n          window.addEventListener(this.options.events[i], WebStorageEvent.emit, false);\n        } else if (window.attachEvent) {\n          window.attachEvent(`on${this.options.events[i]}`, WebStorageEvent.emit);\n        } else {\n          window[`on${this.options.events[i]}`] = WebStorageEvent.emit;\n        }\n      }\n    }\n  }\n\n  /**\n   * Set Options\n   *\n   * @param {Object} options\n   */\n  setOptions(options = {}) {\n    this.options = Object.assign(this.options, options);\n  }\n\n  /**\n   * Set item\n   *\n   * @param {string} name\n   * @param {*} value\n   * @param {number} expire - seconds\n   */\n  set(name, value, expire = null) {\n    const stringifyValue = JSON.stringify({\n      value,\n      expire: expire !== null ? new Date().getTime() + expire : null,\n    });\n\n    this.storage.setItem(this.options.namespace + name, stringifyValue);\n  }\n\n  /**\n   * Get item\n   *\n   * @param {string} name\n   * @param {*} def - default value\n   * @returns {*}\n   */\n  get(name, def = null) {\n    const item = this.storage.getItem(this.options.namespace + name);\n\n    if (item !== null) {\n      try {\n        const data = JSON.parse(item);\n\n        if (data.expire === null) {\n          return data.value;\n        }\n\n        if (data.expire >= new Date().getTime()) {\n          return data.value;\n        }\n\n        this.remove(name);\n      } catch (err) {\n        return def;\n      }\n    }\n\n    return def;\n  }\n\n  /**\n   * Get item by key\n   *\n   * @param {number} index\n   * @return {*}\n   */\n  key(index) {\n    return this.storage.key(index);\n  }\n\n  /**\n   * Remove item\n   *\n   * @param {string} name\n   * @return {boolean}\n   */\n  remove(name) {\n    return this.storage.removeItem(this.options.namespace + name);\n  }\n\n  /**\n   * Clear storage\n   */\n  clear() {\n    if (this.length === 0) {\n      return;\n    }\n\n    const removedKeys = [];\n\n    for (let i = 0; i < this.length; i++) {\n      const key = this.storage.key(i);\n      const regexp = new RegExp(`^${this.options.namespace}.+`, 'i');\n\n      if (regexp.test(key) === false) {\n        continue;\n      }\n\n      removedKeys.push(key);\n    }\n\n    for (const key in removedKeys) {\n      this.storage.removeItem(removedKeys[key]);\n    }\n  }\n\n  /**\n   * Add storage change event\n   *\n   * @param {string} name\n   * @param {Function} callback\n   */\n  on(name, callback) {\n    WebStorageEvent.on(this.options.namespace + name, callback);\n  }\n\n  /**\n   * Remove storage change event\n   *\n   * @param {string} name\n   * @param {Function} callback\n   */\n  off(name, callback) {\n    WebStorageEvent.off(this.options.namespace + name, callback);\n  }\n}\n", "import { MemoryStorage, WebStorage } from './storage';\n\n// eslint-disable-next-line\nconst _global = (typeof window !== 'undefined' ? window : global || {});\n\n/**\n * @type {{install: (function(Object, Object): WebStorage)}}\n */\nconst VueStorage = {\n  /**\n   * use storage\n   *\n   * @param {Object} options\n   * @returns {WebStorage}\n   */\n  useStorage(options) {\n    const _options = {\n      ...options,\n      storage: options.storage || 'local',\n      name: options.name || 'ls',\n    };\n\n    if (_options.storage && ['memory', 'local', 'session'].indexOf(_options.storage) === -1) {\n      throw new Error(`Vue-ls: Storage \"${_options.storage}\" is not supported`);\n    }\n\n    let store = null;\n\n    switch(_options.storage) { // eslint-disable-line\n      case 'local':\n        try {\n          store = 'localStorage' in _global\n            ? _global.localStorage\n            : null\n          ;\n        } catch (e) {\n          // In some situations the browser will\n          // throw a security exception when attempting to access\n        }\n        break;\n\n      case 'session':\n        try {\n          store = 'sessionStorage' in _global\n            ? _global.sessionStorage\n            : null\n          ;\n        } catch (e) {\n          // In some situations the browser will\n          // throw a security exception when attempting to access\n        }\n        break;\n      case 'memory':\n        store = MemoryStorage;\n        break;\n    }\n\n    if (!store) {\n      store = MemoryStorage;\n      // eslint-disable-next-line\n      console.error(`Vue-ls: Storage \"${_options.storage}\" is not supported your system, use memory storage`);\n    }\n\n    const ls = new WebStorage(store);\n\n    ls.setOptions(Object.assign(ls.options, {\n      namespace: '',\n    }, _options || {}));\n\n    return { ls, _options };\n  },\n  /**\n   * Install plugin\n   *\n   * @param {Object} Vue\n   * @param {Object} options\n   * @returns {WebStorage}\n   */\n  install(Vue, options = {}) {\n    const { ls, _options } = this.useStorage(options);\n    Vue[_options.name] = ls; // eslint-disable-line\n\n    Object.defineProperty(Vue.prototype || Vue.config.globalProperties, `$${_options.name}`, {\n      /**\n       * Define $ls property\n       *\n       * @return {WebStorage}\n       */\n      get() {\n        return ls;\n      },\n    });\n  },\n};\n\n// eslint-disable-next-line\n_global.VueStorage = VueStorage;\n\nexport default VueStorage;\n"],
  "mappings": ";;;AAEA,IAAI,KAAK,CAAC;AAEV,IAAM,yBAAN,MAA6B;AAAA,EAC3B,cAAc;AACZ,WAAO,eAAe,MAAM,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMpC,MAAM;AACJ,eAAO,OAAO,KAAK,EAAE,EAAE;AAAA,MACzB;AAAA,IACF,CAAC;AAAA,EACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,QAAQ,MAAM;AACZ,WAAO,QAAQ,KAAK,GAAG,IAAI,IAAI;AAAA,EACjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,QAAQ,MAAM,OAAO;AACnB,OAAG,IAAI,IAAI;AAEX,WAAO;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,WAAW,MAAM;AACf,UAAM,QAAQ,QAAQ;AAEtB,QAAI,OAAO;AACT,aAAO,OAAO,GAAG,IAAI;AAAA,IACvB;AAEA,WAAO;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,QAAQ;AACN,SAAK,CAAC;AAEN,WAAO;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,IAAI,OAAO;AACT,UAAM,OAAO,OAAO,KAAK,EAAE;AAE3B,WAAO,OAAO,KAAK,KAAK,MAAM,cAAc,KAAK,KAAK,IAAI;AAAA,EAC5D;AACF;AAEA,IAAM,gBAAgB,IAAI,uBAAuB;;;ACjFjD,IAAM,YAAY,CAAC;AAKZ,IAAM,kBAAN,MAAsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAO3B,OAAO,GAAG,MAAM,UAAU;AACxB,QAAI,OAAO,UAAU,IAAI,MAAM,aAAa;AAC1C,gBAAU,IAAI,IAAI,CAAC;AAAA,IACrB;AAEA,cAAU,IAAI,EAAE,KAAK,QAAQ;AAAA,EAC/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,OAAO,IAAI,MAAM,UAAU;AACzB,QAAI,UAAU,IAAI,EAAE,QAAQ;AAC1B,gBAAU,IAAI,EAAE,OAAO,UAAU,IAAI,EAAE,QAAQ,QAAQ,GAAG,CAAC;AAAA,IAC7D,OAAO;AACL,gBAAU,IAAI,IAAI,CAAC;AAAA,IACrB;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,OAAO,KAAK,OAAO;AACjB,UAAM,IAAI,SAAS,OAAO;AAE1B,UAAM,WAAW,CAAC,SAAS;AACzB,UAAI;AACF,eAAO,KAAK,MAAM,IAAI,EAAE;AAAA,MAC1B,SAAS,KAAK;AACZ,eAAO;AAAA,MACT;AAAA,IACF;AAEA,UAAM,OAAO,CAAC,aAAa;AACzB,YAAM,WAAW,SAAS,EAAE,QAAQ;AACpC,YAAM,WAAW,SAAS,EAAE,QAAQ;AAEpC,eAAS,UAAU,UAAU,EAAE,OAAO,EAAE,GAAG;AAAA,IAC7C;AAEA,QAAI,OAAO,MAAM,eAAe,OAAO,EAAE,QAAQ,aAAa;AAC5D;AAAA,IACF;AAEA,UAAM,MAAM,UAAU,EAAE,GAAG;AAE3B,QAAI,OAAO,QAAQ,aAAa;AAC9B,UAAI,QAAQ,IAAI;AAAA,IAClB;AAAA,EACF;AACF;;;AC9DO,IAAM,aAAN,MAAiB;AAAA;AAAA;AAAA;AAAA,EAItB,YAAY,SAAS;AACnB,SAAK,UAAU;AACf,SAAK,UAAU;AAAA,MACb,WAAW;AAAA,MACX,QAAQ,CAAC,SAAS;AAAA,IACpB;AAEA,WAAO,eAAe,MAAM,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMpC,MAAM;AACJ,eAAO,KAAK,QAAQ;AAAA,MACtB;AAAA,IACF,CAAC;AAED,QAAI,OAAO,WAAW,aAAa;AACjC,iBAAW,KAAK,KAAK,QAAQ,QAAQ;AACnC,YAAI,OAAO,kBAAkB;AAC3B,iBAAO,iBAAiB,KAAK,QAAQ,OAAO,CAAC,GAAG,gBAAgB,MAAM,KAAK;AAAA,QAC7E,WAAW,OAAO,aAAa;AAC7B,iBAAO,YAAY,KAAK,KAAK,QAAQ,OAAO,CAAC,CAAC,IAAI,gBAAgB,IAAI;AAAA,QACxE,OAAO;AACL,iBAAO,KAAK,KAAK,QAAQ,OAAO,CAAC,CAAC,EAAE,IAAI,gBAAgB;AAAA,QAC1D;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,WAAW,UAAU,CAAC,GAAG;AACvB,SAAK,UAAU,OAAO,OAAO,KAAK,SAAS,OAAO;AAAA,EACpD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,IAAI,MAAM,OAAO,SAAS,MAAM;AAC9B,UAAM,iBAAiB,KAAK,UAAU;AAAA,MACpC;AAAA,MACA,QAAQ,WAAW,QAAO,oBAAI,KAAK,GAAE,QAAQ,IAAI,SAAS;AAAA,IAC5D,CAAC;AAED,SAAK,QAAQ,QAAQ,KAAK,QAAQ,YAAY,MAAM,cAAc;AAAA,EACpE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,IAAI,MAAM,MAAM,MAAM;AACpB,UAAM,OAAO,KAAK,QAAQ,QAAQ,KAAK,QAAQ,YAAY,IAAI;AAE/D,QAAI,SAAS,MAAM;AACjB,UAAI;AACF,cAAM,OAAO,KAAK,MAAM,IAAI;AAE5B,YAAI,KAAK,WAAW,MAAM;AACxB,iBAAO,KAAK;AAAA,QACd;AAEA,YAAI,KAAK,WAAU,oBAAI,KAAK,GAAE,QAAQ,GAAG;AACvC,iBAAO,KAAK;AAAA,QACd;AAEA,aAAK,OAAO,IAAI;AAAA,MAClB,SAAS,KAAK;AACZ,eAAO;AAAA,MACT;AAAA,IACF;AAEA,WAAO;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,IAAI,OAAO;AACT,WAAO,KAAK,QAAQ,IAAI,KAAK;AAAA,EAC/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,OAAO,MAAM;AACX,WAAO,KAAK,QAAQ,WAAW,KAAK,QAAQ,YAAY,IAAI;AAAA,EAC9D;AAAA;AAAA;AAAA;AAAA,EAKA,QAAQ;AACN,QAAI,KAAK,WAAW,GAAG;AACrB;AAAA,IACF;AAEA,UAAM,cAAc,CAAC;AAErB,aAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AACpC,YAAM,MAAM,KAAK,QAAQ,IAAI,CAAC;AAC9B,YAAM,SAAS,IAAI,OAAO,IAAI,KAAK,QAAQ,SAAS,MAAM,GAAG;AAE7D,UAAI,OAAO,KAAK,GAAG,MAAM,OAAO;AAC9B;AAAA,MACF;AAEA,kBAAY,KAAK,GAAG;AAAA,IACtB;AAEA,eAAW,OAAO,aAAa;AAC7B,WAAK,QAAQ,WAAW,YAAY,GAAG,CAAC;AAAA,IAC1C;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,GAAG,MAAM,UAAU;AACjB,oBAAgB,GAAG,KAAK,QAAQ,YAAY,MAAM,QAAQ;AAAA,EAC5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,IAAI,MAAM,UAAU;AAClB,oBAAgB,IAAI,KAAK,QAAQ,YAAY,MAAM,QAAQ;AAAA,EAC7D;AACF;;;AC9JA,IAAM,UAAW,OAAO,WAAW,cAAc,SAAS,UAAU,CAAC;AAKrE,IAAM,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOjB,WAAW,SAAS;AAClB,UAAM,WAAW;AAAA,MACf,GAAG;AAAA,MACH,SAAS,QAAQ,WAAW;AAAA,MAC5B,MAAM,QAAQ,QAAQ;AAAA,IACxB;AAEA,QAAI,SAAS,WAAW,CAAC,UAAU,SAAS,SAAS,EAAE,QAAQ,SAAS,OAAO,MAAM,IAAI;AACvF,YAAM,IAAI,MAAM,oBAAoB,SAAS,OAAO,oBAAoB;AAAA,IAC1E;AAEA,QAAI,QAAQ;AAEZ,YAAO,SAAS,SAAS;AAAA,MACvB,KAAK;AACH,YAAI;AACF,kBAAQ,kBAAkB,UACtB,QAAQ,eACR;AAAA,QAEN,SAAS,GAAG;AAAA,QAGZ;AACA;AAAA,MAEF,KAAK;AACH,YAAI;AACF,kBAAQ,oBAAoB,UACxB,QAAQ,iBACR;AAAA,QAEN,SAAS,GAAG;AAAA,QAGZ;AACA;AAAA,MACF,KAAK;AACH,gBAAQ;AACR;AAAA,IACJ;AAEA,QAAI,CAAC,OAAO;AACV,cAAQ;AAER,cAAQ,MAAM,oBAAoB,SAAS,OAAO,oDAAoD;AAAA,IACxG;AAEA,UAAMA,MAAK,IAAI,WAAW,KAAK;AAE/B,IAAAA,IAAG,WAAW,OAAO,OAAOA,IAAG,SAAS;AAAA,MACtC,WAAW;AAAA,IACb,GAAG,YAAY,CAAC,CAAC,CAAC;AAElB,WAAO,EAAE,IAAAA,KAAI,SAAS;AAAA,EACxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,QAAQ,KAAK,UAAU,CAAC,GAAG;AACzB,UAAM,EAAE,IAAAA,KAAI,SAAS,IAAI,KAAK,WAAW,OAAO;AAChD,QAAI,SAAS,IAAI,IAAIA;AAErB,WAAO,eAAe,IAAI,aAAa,IAAI,OAAO,kBAAkB,IAAI,SAAS,IAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMvF,MAAM;AACJ,eAAOA;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AACF;AAGA,QAAQ,aAAa;AAErB,IAAO,cAAQ;",
  "names": ["ls"]
}
